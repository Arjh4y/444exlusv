<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="Cache-Control" content="no-cache">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">

    <link rel="apple-touch-icon" id="appleTouchIcon" href="https://cdn.discordapp.com/embed/avatars/0.png">
    <link rel="icon" id="favicon" href="https://cdn.discordapp.com/embed/avatars/0.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-database-compat.js"></script>

    <title></title>
    <meta name="description" content="444.exlu$v.">
<script>
    (function() {
        // Configuration
        const prefix = "‎ ";
        const text = "@Towfu";
        const typingSpeed = 300; // milliseconds per character
        const pauseAtFull = 2000; // pause when complete
        const pauseAtEmpty = 1000; // pause when empty (just @ showing)
        
        let visibleChars = 0;
        let isTyping = true;
        
        function animateTitle() {
            if (isTyping) {
                // Type one character (always keep @ prefix)
                document.title = prefix + text.substring(0, visibleChars + 1);
                visibleChars++;
                
                if (visibleChars === text.length) {
                    // Pause at full message (@Towfu)
                    setTimeout(animateTitle, pauseAtFull);
                    isTyping = false;
                    return;
                }
            } else {
                // Delete one character (but keep @)
                document.title = prefix + text.substring(0, visibleChars - 1);
                visibleChars--;
                
                if (visibleChars === 0) {
                    // Pause when only @ remains
                    setTimeout(animateTitle, pauseAtEmpty);
                    isTyping = true;
                    return;
                }
            }
            
            setTimeout(animateTitle, typingSpeed);
        }
        
        // Start animation after page loads
        window.onload = function() {
            // Start with just @
            document.title = prefix;
            setTimeout(animateTitle, 500); // Initial delay
        };
    })();
</script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');

        body {
            opacity: 0;
            animation: fadeIn 0.5s forwards;
        }

        @keyframes fadeIn {
            to {
                opacity: 1;
            }
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            cursor: none;
        }

        /* Video Background */
        .video-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            z-: -1;
            opacity: 0.3;
            display: none;
            pointer-events: none;
            /* Prevents interaction */
            -webkit-touch-callout: none;
            /* iOS Safari */
            -webkit-user-select: none;
            /* Safari */
            -khtml-user-select: none;
            /* Konqueror HTML */
            -moz-user-select: none;
            /* Firefox */
            -ms-user-select: none;
            /* Internet Explorer/Edge */
            user-select: none;
            /* Standard */
            touch-action: none;
            /* Disable touch actions */
        }

        /* Replace your existing background styles with this */
        body {
            background: linear-gradient(135deg, #000000 0%, #1a1a1a 50%, #000000 100%) !important;
            background-attachment: fixed !important;
            background-size: cover !important;
            background-repeat: no-repeat !important;
            min-height: 100vh !important;
        }

        /* Mobile-specific darkening fix */
        @media (hover: none) and (pointer: coarse) {
            body::before {
                content: '';
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0, 0, 0, 0.3);
                z-: -2;
                pointer-events: none;
            }
        }

        /* Animated background pattern */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background:
                radial-gradient(circle at 20% 50%, rgba(255, 255, 255, 0.02) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(255, 255, 255, 0.02) 0%, transparent 50%),
                radial-gradient(circle at 40% 80%, rgba(255, 255, 255, 0.02) 0%, transparent 50%);
            animation: floatPattern 20s ease-in-out infinite;
            z-: 1;
        }

        @keyframes floatPattern {

            0%,
            100% {
                transform: translate3d(0, 0, 0);
            }

            50% {
                transform: translate3d(0, -20px, 0);
            }
        }

        /* Entry Screen */
        .entry-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #35353569;
            display: flex;
            justify-content: center;
            align-items: center;
            z-: 9999;
            cursor: pointer;
            transition: opacity 0.8s cubic-bezier(0.19, 1, 0.22, 1);
        }

        .entry-text {
            font-size: 24px;
            font-weight: 600;
            color: rgba(255, 255, 255, 0.9);
            text-align: center;
            letter-spacing: 3px;
            font-family: 'Inter', sans-serif;
            text-shadow: 0 0 20px rgba(255, 255, 255, 0.3);
        }

        .entry-text::after {
            content: '|';
            color: rgba(255, 255, 255, 0.7);
            animation: blink 1s infinite;
            margin-left: 2px;
        }

        /* Main Content */
        .main-content {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            pointer-events: none;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 40px;
            z-: 2;
            transform: translateY(20px);
            transition: all 1s cubic-bezier(0.19, 1, 0.22, 1);
        }

        .main-content.visible {
            opacity: 1;
            pointer-events: all;
            transform: translateY(0);
        }

        /* Status Header */
        .status-header {
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-bottom: 40px;
            z-: 100;
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.8s cubic-bezier(0.19, 1, 0.22, 1) 0.3s;
        }

        .main-content.visible .status-header {
            opacity: 1;
            transform: translateY(0);
        }

        .avatar-container {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            border: 3px solid rgba(255, 255, 255, 0.8);
            overflow: hidden;
            margin-bottom: 25px;
            position: relative;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow:
                0 0 20px rgba(255, 255, 255, 0.1),
                inset 0 0 20px rgba(255, 255, 255, 0.05);
            opacity: 0;
            transform: scale(0.8);
            transition: all 0.6s cubic-bezier(0.19, 1, 0.22, 1) 0.4s;
        }

        .main-content.visible .avatar-container {
            opacity: 1;
            transform: scale(1);
        }



        .avatar {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }



        /* Avatar Decoration */
        .avatar-decoration {
            position: absolute;
            top: -10px;
            left: -10px;
            width: 150px;
            height: 150px;
            background-size: contain;
            background-repeat: no-repeat;
            pointer-events: none;
            z-: 9999;
            /* Set to a very high value to ensure it's on top */
            filter: drop-shadow(0 0 5px rgba(255, 255, 255, 0.5));
            display: none;
            /* Start hidden until we know if there's a decoration */
        }

        .username {
            font-family: 'Old English Text MT', serif;
            font-size: 2.5em;
            font-weight: 600;
            letter-spacing: 1px;
            margin: 5px 0;
            text-align: center;
            position: relative;
            background: linear-gradient(to left, #030303e9 0%, #ffffff 50%, #030303e9 70%);
            background-size: 400% auto;
            background-position: 0% center;
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            color: transparent;
            animation:
                moveGradientLeft 10s linear infinite,
                smoothGlow 4s cubic-bezier(0.25, 0.46, 0.45, 0.94) infinite alternate;
            will-change: background-position;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.6s cubic-bezier(0.19, 1, 0.22, 1) 0.5s;
        }

        .main-content.visible .username {
            opacity: 1;
            transform: translateY(0);
        }

        /* Smooth gradient animation */
        @keyframes moveGradientLeft {
            0% {
                background-position: 100% center;
            }

            100% {
                background-position: -300% center;
            }
        }

        /* Smooth glowing effect */
        @keyframes smoothGlow {
            0% {
                filter:
                    drop-shadow(0 0 3px rgba(255, 255, 255, 0.3)) drop-shadow(0 0 6px rgba(255, 255, 255, 0.1));
            }

            100% {
                filter:
                    drop-shadow(0 0 8px rgba(255, 255, 255, 0.5)) drop-shadow(0 0 12px rgba(255, 255, 255, 0.2));
            }
        }

        .status-indicator {
            position: absolute;
            top: 40%;
            right: calc(50% - 55px);
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: #818181;
            border: 2px solid #1a1a1a;
            z-: 101;
            animation: pulse 2s infinite;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.7);
            opacity: 0;
            transition: all 0.6s cubic-bezier(0.19, 1, 0.22, 1) 0.6s;
        }

        .main-content.visible .status-indicator {
            opacity: 1;
        }

        .status-indicator.online {
            background: #06a806;
        }

        .status-indicator.idle {
            background: #c07a00;
        }

        .status-indicator.dnd {
            background: #b80000;
        }

        .status-indicator.invisible {
            background: #818181;
        }

        .badges_one {
            margin-bottom: 30px;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.6s cubic-bezier(0.19, 1, 0.22, 1) 0.7s;
        }

        .main-content.visible .badges_one {
            opacity: 1;
            transform: translateY(0);
        }

        .badge-typing-text_one {
            font-size: 14px;
            font-weight: 300;
            letter-spacing: 2px;
            color: rgba(255, 255, 255, 0.7);
            text-align: center;
            padding: 8px 16px;
            background: transparent;
            position: relative;
            min-height: 20px;
        }

        .badge-typing-text_one::after {
            content: '|';
            color: rgba(255, 255, 255, 0.7);
            animation: blink 1s infinite;
            margin-left: 2px;
        }

        @keyframes blink {

            0%,
            50% {
                opacity: 1;
            }

            51%,
            100% {
                opacity: 0;
            }
        }

        .view-counter {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 13px;
            letter-spacing: 1px;
            color: rgba(255, 255, 255, 0.6);
            font-weight: 300;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.6s cubic-bezier(0.19, 1, 0.22, 1) 0.8s;
        }

        .main-content.visible .view-counter {
            opacity: 1;
            transform: translateY(0);
        }

        /* Spotify Section */
        .spotify-section {
            width: 100%;
            max-width: 350px;
            background: rgba(0, 0, 0, 0.8);
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 40px;
            z-: 100;
            backdrop-filter: blur(20px);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);

            /* Initial hidden state */
            display: block;
            opacity: 0;
            transform: translateY(20px) scale(0.98);
            pointer-events: none;

            /* Super smooth transition */
            transition:
                opacity 0.8s cubic-bezier(0.16, 1, 0.3, 1),
                transform 0.8s cubic-bezier(0.16, 1, 0.3, 1),
                backdrop-filter 0.8s ease;
            will-change: opacity, transform;
        }

        .spotify-section.visible {
            opacity: 1;
            transform: translateY(0) scale(1);
            pointer-events: auto;

            /* Subtle animation when becoming visible */
            animation: gentlePulse 6s infinite alternate;
        }

        @keyframes gentlePulse {
            0% {
                box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            }

            100% {
                box-shadow: 0 12px 40px rgba(0, 0, 0, 0.4);
            }
        }

        .spotify-section.loading .song-title,
        .spotify-section.loading .artist,
        .spotify-section.loading .progress-bar {
            background: linear-gradient(90deg, rgba(255, 255, 255, 0.1) 0%, rgba(255, 255, 255, 0.2) 50%, rgba(255, 255, 255, 0.1) 100%);
            background-size: 200% 100%;
            animation: shimmer 1.5s infinite;
            border-radius: 4px;
            color: transparent;
        }

        .spotify-header {
            font-size: 12px;
            margin-bottom: 20px;
            letter-spacing: 1px;
            display: flex;
            align-items: center;
            gap: 10px;
            color: rgba(255, 255, 255, 0.8);
            font-weight: 500;
        }

        .spotify-indicator {
            width: 10px;
            height: 10px;
            background: #1DB954;
            border-radius: 50%;
            animation: pulse 1.5s infinite;
        }

        .spotify-indicator.loading {
            animation: pulseLoading 1s infinite;
        }

        @keyframes pulseLoading {
            0% {
                opacity: 0.3;
                transform: scale(0.8);
            }

            50% {
                opacity: 1;
                transform: scale(1.2);
            }

            100% {
                opacity: 0.3;
                transform: scale(0.8);
            }
        }

        .player-content {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
        }

        .album-art {
            width: 80px;
            height: 80px;
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 8px;
            object-fit: cover;
            filter: grayscale(100%) contrast(1.1);
            transition: all 0.3s ease;
        }

        .album-art.loading {
            background: linear-gradient(90deg, rgba(255, 255, 255, 0.1) 0%, rgba(255, 255, 255, 0.2) 50%, rgba(255, 255, 255, 0.1) 100%);
            background-size: 200% 100%;
            animation: shimmer 1.5s infinite;
        }

        @keyframes shimmer {
            0% {
                background-position: -200% 0;
            }

            100% {
                background-position: 200% 0;
            }
        }

        .track-info {
            display: flex;
            flex-direction: column;
            justify-content: center;
            flex: 1;
        }

        .song-title {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 8px;
            color: #ffffff;
            line-height: 1.2;
            min-height: 20px;
        }

        .song-title.loading {
            background: linear-gradient(90deg, rgba(255, 255, 255, 0.1) 0%, rgba(255, 255, 255, 0.2) 50%, rgba(255, 255, 255, 0.1) 100%);
            background-size: 200% 100%;
            animation: shimmer 1.5s infinite;
            border-radius: 4px;
            width: 80%;
            height: 16px;
        }

        .artist {
            font-size: 14px;
            color: rgba(255, 255, 255, 0.7);
            font-weight: 400;
            min-height: 16px;
        }

        .artist.loading {
            background: linear-gradient(90deg, rgba(255, 255, 255, 0.1) 0%, rgba(255, 255, 255, 0.2) 50%, rgba(255, 255, 255, 0.1) 100%);
            background-size: 200% 100%;
            animation: shimmer 1.5s infinite;
            border-radius: 4px;
            width: 60%;
            height: 14px;
        }

        .progress-container {
            width: 100%;
            height: 4px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 2px;
            margin-bottom: 8px;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #ffffff 0%, rgba(255, 255, 255, 0.8) 100%);
            width: 0%;
            transition: width 0.1s ease;
            border-radius: 2px;
        }

        .progress-bar.loading {
            background: linear-gradient(90deg, rgba(255, 255, 255, 0.1) 0%, rgba(255, 255, 255, 0.3) 50%, rgba(255, 255, 255, 0.1) 100%);
            background-size: 200% 100%;
            animation: shimmer 1.5s infinite;
            width: 30%;
        }

        .time {
            display: flex;
            justify-content: space-between;
            font-size: 11px;
            color: rgba(255, 255, 255, 0.6);
            font-weight: 400;
        }

        .time.loading {
            color: rgba(255, 255, 255, 0.3);
        }

        /* Footer */
        .footer {
            position: fixed;
            bottom: 30px;
            display: flex;
            gap: 30px;
            z-: 100;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.8s cubic-bezier(0.19, 1, 0.22, 1) 1s;
        }

        .main-content.visible .footer {
            opacity: 1;
            transform: translateY(0);
        }

        .footer-icon {
            font-size: 24px;
            color: rgba(255, 255, 255, 0.7);
            transition: all 0.3s ease;
            padding: 10px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            isolation: isolate;
        }

        .footer-icon:hover {
            color: #ffffff;
            background: rgba(255, 255, 255, 0.1);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(255, 255, 255, 0.1);
        }

        /* Custom Cursor */
        .cursor {
            position: fixed;
            width: 20px;
            height: 20px;
            border: 2px solid rgba(255, 255, 255, 0.8);
            border-radius: 50%;
            pointer-events: none;
            z-: 9998;
            transform: translate(-50%, -50%);
            transition: all 0.05s ease;
            backdrop-filter: blur(5px);
        }

        .cursor.hover {
            width: 40px;
            height: 40px;
            border-color: rgba(255, 255, 255, 1);
            background: rgba(255, 255, 255, 0.1);
        }

        /* Tooltip */
        .tooltip {
            position: absolute;
            top: -40px;
            left: 50%;
            transform: translateX(-50%) translateY(-10px);
            background: rgba(0, 0, 0, 0.9);
            color: white;
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 12px;
            opacity: 0;
            transition: opacity 0.3s ease, transform 0.3s ease;
            pointer-events: none;
            white-space: nowrap;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .tooltip.show {
            opacity: 1;
            transform: translateX(-50%) translateY(0);
        }

        @keyframes pulse {
            0% {
                opacity: 0.6;
                transform: scale(1);
            }

            50% {
                opacity: 1;
                transform: scale(1.1);
            }

            100% {
                opacity: 0.6;
                transform: scale(1);
            }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .entry-text {
                font-size: 20px;
            }

            .username {
                font-size: 2em;
            }

            .avatar-container {
                width: 100px;
                height: 100px;
            }

            .avatar-decoration {
                width: 120px;
                height: 120px;
                top: -8px;
                left: -8px;
            }

            .spotify-section {
                max-width: 90%;
            }

            .footer {
                gap: 20px;
                bottom: 20px;
            }

            .footer-icon {
                font-size: 20px;
                padding: 8px;
            }

            .main-content {
                padding: 20px;
            }

            .status-header {
                margin-bottom: 30px;
            }
        }

        @media (max-width: 480px) {
            .entry-text {
                font-size: 18px;
            }

            .username {
                font-size: 1.8em;
            }

            .avatar-container {
                width: 90px;
                height: 90px;
            }

            .avatar-decoration {
                width: 110px;
                height: 110px;
                top: -7px;
                left: -7px;
            }

            .badge-typing-text_one {
                font-size: 12px;
            }

            .footer {
                gap: 15px;
                bottom: 15px;
            }

            .footer-icon {
                font-size: 18px;
                padding: 6px;
            }
        }


        .music-control {
            cursor: none;
        }

        /* Shared button styles */
        .back-button,
        .music-control {
            position: fixed;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background-color: rgba(30, 30, 30, 0.9);
            border: 1px solid rgba(255, 255, 255, 0.2);
            display: flex;
            justify-content: center;
            align-items: center;
            z-: 1000;
            transition: all 0.3s ease;
            box-shadow: 0 0 0 0 rgba(255, 255, 255, 0.4),
                0 4px 15px rgba(0, 0, 0, 0.6);
            cursor: pointer;

        }

        .back-button,
        .music-control {
            cursor: none !important;
            /* Remove pointer cursor */
        }

        /* Keep animations */
        .music-control.playing {
            animation: heartbeat 1.5s infinite ease-in-out;
        }

        .music-control.playing:hover {
            animation: heartbeatHover 1s infinite ease-in-out;
        }

        /* Positioning */
        .back-button {
            top: 20px;
            left: 20px;
        }

        .music-control {
            top: 20px;
            right: 20px;
        }

        /* Hover effects */
        .back-button:hover,
        .music-control:hover {
            transform: scale(1.1);
            background-color: rgba(50, 50, 50, 0.9);
        }

        /* Modern arrow icon using CSS */
        .back-arrow {
            position: relative;
            width: 20px;
            height: 20px;
        }

        .back-arrow::before {
            content: "";
            position: absolute;
            width: 100%;
            height: 2px;
            background: white;
            left: 0;
            top: 50%;
            transform: translateY(-50%);
        }

        .back-arrow::after {
            content: "";
            position: absolute;
            width: 10px;
            height: 10px;
            border-left: 2px solid white;
            border-bottom: 2px solid white;
            left: 0;
            top: 50%;
            transform: translateY(-50%) rotate(45deg);
        }

        /* Music control icon */
        .music-icon {
            color: white;
            font-size: 20px;
        }

        /* Music Control Button */

        .music-control:hover {
            transform: scale(1.1);
        }

        .music-control i {
            color: white;
            font-size: 20px;
            transition: transform 0.3s ease;
        }

        .music-control:hover i {
            transform: scale(1.1);
        }

        /* Heartbeat animation when music is playing */
        .music-control.playing {
            animation: heartbeat 1.5s infinite ease-in-out;
        }

        @keyframes heartbeat {
            0% {
                transform: scale(1);
                box-shadow: 0 0 0 0 rgba(255, 255, 255, 0.4),
                    0 4px 15px rgba(0, 0, 0, 0.6);
            }

            25% {
                transform: scale(1.05);
                box-shadow: 0 0 0 5px rgba(255, 255, 255, 0.2),
                    0 4px 15px rgba(0, 0, 0, 0.6);
            }

            50% {
                transform: scale(1);
                box-shadow: 0 0 0 0 rgba(255, 255, 255, 0),
                    0 4px 15px rgba(0, 0, 0, 0.6);
            }

            75% {
                transform: scale(1.05);
                box-shadow: 0 0 0 5px rgba(255, 255, 255, 0.2),
                    0 4px 15px rgba(0, 0, 0, 0.6);
            }

            100% {
                transform: scale(1);
                box-shadow: 0 0 0 0 rgba(255, 255, 255, 0),
                    0 4px 15px rgba(0, 0, 0, 0.6);
            }
        }

        /* Hover state when music is playing */
        .music-control.playing:hover {
            animation: heartbeatHover 1s infinite ease-in-out;
        }

        @keyframes heartbeatHover {
            0% {
                transform: scale(1.1);
                box-shadow: 0 0 0 0 rgba(255, 255, 255, 0.6),
                    0 6px 20px rgba(255, 255, 255, 0.2);
            }

            50% {
                transform: scale(1.15);
                box-shadow: 0 0 0 10px rgba(255, 255, 255, 0),
                    0 6px 20px rgba(255, 255, 255, 0.2);
            }

            100% {
                transform: scale(1.1);
                box-shadow: 0 0 0 0 rgba(255, 255, 255, 0),
                    0 6px 20px rgba(255, 255, 255, 0.2);
            }
        }



        .avatar-container {
            width: 140px;
            height: 140px;
            border-radius: 50%;
            object-fit: cover;
            border: 5px solid rgba(26, 26, 26, 0.7);
            transition: all 0.3s ease;
            position: relative;
            animation: borderBeat 1.5s infinite ease-out;
        }

        /* Continuous border pulse effect */
        @keyframes borderBeat {
            0% {
                box-shadow: 0 0 0 0 rgba(255, 255, 255, 0.7);
            }

            70% {
                box-shadow: 0 0 0 10px rgba(255, 255, 255, 0);
            }

            100% {
                box-shadow: 0 0 0 0 rgba(255, 255, 255, 0);
            }
        }

        .back-button.active {
            transform: scale(0.95);
            opacity: 0.8;
        }

        .back-button {
            transition: transform 0.1s ease, opacity 0.1s ease;
            cursor: pointer;
        }

        /* Hide cursor on touch devices */
        @media (hover: none) and (pointer: coarse) {
            .cursor {
                display: none !important;
            }

            * {
                cursor: default !important;
            }
        }

        /* Mobile-specific video styling */
        @media (hover: none) and (pointer: coarse) {
            .video-background {
                display: block !important;
                /* Force show on mobile */
            }
        }
    </style>
</head>

<body>


    <!-- Background Video -->
    <video id="bgVideo" class="video-background" loop muted playsinline disablePictureInPicture>
        <source src="guns1.mp4" type="video/mp4">
        Your browser does not support the video tag.
    </video>

    <!-- Background Audio -->
    <audio id="bgMusic" loop>
        <!-- Replace with your audio file -->
        <source src="guns.mp3" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>



    <!-- Custom Cursor -->
    <div class="cursor" id="cursor"></div>

    <!-- Entry Screen -->
    <div class="entry-screen" id="entryScreen">
        <div class="entry-text" id="entryText"></div>
    </div>

    <!-- Main Content -->
    <div class="main-content" id="mainContent">
        <!-- Music Control Button -->
        <div class="music-control" id="musicControl">
            <i class="fas fa-volume-up" id="musicIcon"></i>
        </div>
        <div class="back-button" id="backButton">
            <div class="back-arrow"></div>
        </div>
        <div class="status-header">
            <div class="avatar-container" role="button" tab="0"
                aria-label="Copy Discord username towfu to clipboard" id="avatarButton"
                title="Click to copy Discord username">
                <img id="avatar" class="avatar" src="" alt="Avatar" draggable="false" />
                <div class="avatar-decoration" id="avatarDecoration"></div>
                <div class="tooltip" id="tooltip">Copied!</div>
            </div>
            <div class="status-indicator invisible" id="statusIndicator"></div>
            <div class="username">
                𝖙𝖔𝖜𝖋𝖚
            </div>

            <div class="badges_one" id="badges_one">
                <span class="badge-typing-text_one" id="typingText_description"></span>
            </div>

            <div class="view-counter">
                <i class="fas fa-eye"></i>
                <span id="viewTowfu">0</span>
            </div>
        </div>

        <div class="spotify-section" id="spotifySection">
            <div class="spotify-header">
                <div class="spotify-indicator" id="spotifyIndicator"></div>
                <span id="spotifyHeaderText">NOW PLAYING</span>
            </div>
            <div class="player-content" id="playerContent">
                <img id="album-art" class="album-art" src="" alt="Album Art" />
                <div class="track-info">
                    <div id="song-title" class="song-title"></div>
                    <div id="artist" class="artist"></div>
                </div>
            </div>
            <div class="progress-container">
                <div id="progress-bar" class="progress-bar"></div>
            </div>
            <div class="time" id="timeDisplay">
                <span id="current-time">--:--</span>
                <span id="duration">--:--</span>
            </div>
        </div>
        <div class="footer">
            <a href="https://www.youtube.com/@tokwah4tesu" target="_blank">
                <i class="fab fa-youtube footer-icon"></i>
            </a>
            <a href="https://steamcommunity.com/profiles/76561199060210951/" target="_blank">
                <i class="fab fa-steam footer-icon"></i>
            </a>
        </div>
    </div>

    <script>
        // Initialize Firebase (USE YOUR CONFIG!)
        const firebaseConfig = {
            apiKey: "AIzaSyD9R2VRFvNsRva00YlOXeBwhe_K1ODAE8c",
            authDomain: "viewer-9bac0.firebaseapp.com",
            databaseURL: "https://viewer-9bac0-default-rtdb.firebaseio.com",
            projectId: "viewer-9bac0",
            storageBucket: "viewer-9bac0.firebasestorage.app",
            messagingSenderId: "55316062204",
            appId: "1:55316062204:web:c9e9f62375262b2c9c1c79",
            measurementId: "G-94WYM6NMHM"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        const database = firebase.database();

        // Debugging function
        function logFirebaseStatus() {
            console.log("Firebase initialized:", !!firebase.apps.length);
            console.log("Database reference:", database?.ref()?.toString());
        }

        // Enhanced View Counter
        function setupViewCounter(counterId) {
            const counterElement = document.getElementById(counterId);
            if (!counterElement) {
                console.error(`Element #${counterId} not found!`);
                return;
            }

            counterElement.textContent = "Loading...";
            const counterRef = database.ref(`viewCounters/${counterId}`);

            // Only increment if this is a new session
            if (!sessionStorage.getItem(`counted_${counterId}`)) {
                counterRef.transaction(
                    (currentCount) => {
                        return (currentCount || 0) + 1;
                    },
                    (error, committed) => {
                        if (error) {
                            console.error(`Transaction failed for ${counterId}:`, error);
                        } else if (committed) {
                            sessionStorage.setItem(`counted_${counterId}`, "true");
                            console.log(`Counter ${counterId} incremented successfully`);
                        }
                    }
                );
            }

            // Real-time listener
            counterRef.on(
                "value",
                (snapshot) => {
                    const count = snapshot.val();
                    counterElement.textContent = count?.toLocaleString() || "0";
                },
                (error) => {
                    console.error(`Listener error for ${counterId}:`, error);
                    counterElement.textContent = "Error";
                }
            );
        }

        // Initialize when DOM loads
        document.addEventListener("DOMContentLoaded", () => {
            logFirebaseStatus();
            setupViewCounter("viewTowfu");
        });
        // Call this when the page loads
        document.addEventListener("DOMContentLoaded", setupViewCounter);
        // Lanyard API Integration
        const userId = '701884156237578311';
        let socket = null;
        let presenceData = null;
        let spotifyUpdateInterval = null;
        let musicControl;

        // Background media elements
        const bgVideo = document.getElementById('bgVideo');
        const bgMusic = document.getElementById('bgMusic');
        const musicControlBtn = document.getElementById('musicControl');
        const musicIcon = document.getElementById('musicIcon');

        // Initialize music control
        function initMusicControl() {
            // Set initial state
            musicControlBtn.classList.add('playing');

            // Toggle mute state
            musicControlBtn.addEventListener('click', () => {
                if (bgMusic.muted) {
                    bgMusic.muted = false;
                    musicIcon.classList.remove('fa-volume-mute');
                    musicIcon.classList.add('fa-volume-up');
                    musicControlBtn.classList.add('playing');
                } else {
                    bgMusic.muted = true;
                    musicIcon.classList.remove('fa-volume-up');
                    musicIcon.classList.add('fa-volume-mute');
                    musicControlBtn.classList.remove('playing');
                }
            });
        }

        // Initialize WebSocket connection to Lanyard
        function initLanyard() {
            socket = new WebSocket('wss://api.lanyard.rest/socket');

            socket.onopen = () => {
                console.log('Connected to Lanyard API');
                socket.send(JSON.stringify({
                    op: 2,
                    d: {
                        subscribe_to_id: userId
                    }
                }));
            };

            socket.onmessage = (event) => {
                try {
                    const data = JSON.parse(event.data);

                    if (data.t === 'INIT_STATE' || data.t === 'PRESENCE_UPDATE') {
                        presenceData = data.d;
                        updatePresence();
                    }
                } catch (error) {
                    console.error('Error parsing Lanyard data:', error);
                }
            };

            socket.onclose = () => {
                console.log('Disconnected from Lanyard API');
                // Try to reconnect after 5 seconds
                setTimeout(initLanyard, 5000);
            };

            socket.onerror = (error) => {
                console.error('Lanyard WebSocket error:', error);
            };
        }

        // Update UI based on presence data
        function updatePresence() {
            if (!presenceData) return;

            // Update avatar
            const avatarImg = document.getElementById('avatar');
            if (presenceData.discord_user) {
                let avatarUrl;
                if (presenceData.discord_user.avatar) {
                    avatarUrl = `https://cdn.discordapp.com/avatars/${userId}/${presenceData.discord_user.avatar}.webp?size=256`;
                } else {
                    // Use default avatar based on discriminator
                    const discriminator = presenceData.discord_user.discriminator;
                    const defaultAvatarNum = discriminator % 5;
                    avatarUrl = `https://cdn.discordapp.com/embed/avatars/${defaultAvatarNum}.png`;
                }

                // Only update if the source has changed
                if (avatarImg.src !== avatarUrl) {
                    avatarImg.src = avatarUrl;
                    avatarImg.onerror = () => {
                        avatarImg.src = 'https://cdn.discordapp.com/embed/avatars/0.png';
                    };

                    // Update favicons
                    updateFavicons(avatarUrl);
                }
            }
            // Update status indicator
            const statusIndicator = document.getElementById('statusIndicator');
            if (statusIndicator) {
                statusIndicator.className = 'status-indicator';
                statusIndicator.classList.add(presenceData.discord_status);
            }

            // Rest of your existing updatePresence code...
            // Handle Spotify section
            const spotifySection = document.getElementById('spotifySection');
            const hasSpotifyData = presenceData.listening_to_spotify && presenceData.spotify;

            if (hasSpotifyData) {
                spotifySection.classList.add('visible');
                document.getElementById('spotifyHeaderText').innerHTML = `Listening to Spotify 
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 168 168" style="vertical-align: middle; margin-left: 5px;">
            <path fill="white" d="M84,0C37.7,0,0,37.7,0,84s37.7,84,84,84s84-37.7,84-84S130.3,0,84,0z M121.3,121.5c-1.5,2.5-4.7,3.3-7.2,1.9
            c-19.8-12.1-44.8-14.9-74.3-8.5c-2.8,0.6-5.6-1.2-6.3-4s1.2-5.6,4-6.3c32.6-7.1,61.1-4,83.6,9.6
            C121.9,116.2,122.8,119.1,121.3,121.5z M130.4,97.6c-1.8,2.9-5.6,3.8-8.5,2c-22.7-13.9-57.3-17.9-84.1-10.2
            c-3.2,0.9-6.5-0.9-7.4-4.1s0.9-6.5,4.1-7.4c30.9-8.6,70.5-4.1,97.5,11.3C131,91.1,132.2,94.8,130.4,97.6z M131.6,73.7
            c-27-16.4-71.9-17.9-97.7-10.2c-3.8,1.1-7.7-1-8.7-4.8c-1.1-3.8,1-7.7,4.8-8.7c29.4-8.6,79.7-6.8,111.6,12.1
            c3.3,2,4.3,6.3,2.3,9.6C141.9,74.8,135.3,75.9,131.6,73.7z"/>
        </svg>`;

                // Update track info
                document.getElementById('song-title').textContent = presenceData.spotify.song;
                document.getElementById('artist').textContent = presenceData.spotify.artist;

                // Update album art
                const albumArt = document.getElementById('album-art');
                if (presenceData.spotify.album_art_url) {
                    albumArt.src = presenceData.spotify.album_art_url;
                    albumArt.onerror = () => {
                        albumArt.src = ''; // Clear if image fails to load
                    };
                    albumArt.classList.remove('loading');
                }

                // Start real-time progress updates
                startSpotifyProgressUpdates();
            } else {
                spotifySection.classList.remove('visible');

                // Clear progress updates
                if (spotifyUpdateInterval) {
                    clearInterval(spotifyUpdateInterval);
                    spotifyUpdateInterval = null;
                }

                // Reset progress bar
                document.getElementById('progress-bar').style.width = '0%';
                document.getElementById('current-time').textContent = '--:--';
                document.getElementById('duration').textContent = '--:--';
            }
        }

        // Set a default avatar initially
        document.getElementById('avatar').src = 'https://cdn.discordapp.com/embed/avatars/0.png';


        function fetchInitialAvatar() {
            fetch(`https://api.lanyard.rest/v1/users/${userId}`)
                .then(response => response.json())
                .then(data => {
                    if (data.success && data.data && data.data.discord_user) {
                        updateAvatarFromData(data.data);
                    }
                })
                .catch(error => {
                    console.error('Error fetching initial avatar:', error);
                });
        }

        function updateAvatarFromData(data) {
            const avatarImg = document.getElementById('avatar');
            let avatarUrl;

            if (data.discord_user) {
                if (data.discord_user.avatar) {
                    avatarUrl = `https://cdn.discordapp.com/avatars/${userId}/${data.discord_user.avatar}.webp?size=256`;
                } else {
                    // Use default avatar based on discriminator
                    const discriminator = data.discord_user.discriminator;
                    const defaultAvatarNum = discriminator % 5;
                    avatarUrl = `https://cdn.discordapp.com/embed/avatars/${defaultAvatarNum}.png`;
                }

                avatarImg.src = avatarUrl;
                avatarImg.onerror = () => {
                    avatarImg.src = 'https://cdn.discordapp.com/embed/avatars/0.png';
                };

                // Update favicons
                updateFavicons(avatarUrl);
            }
        }

        // Call this when initializing the page
        document.addEventListener('DOMContentLoaded', function () {
            fetchInitialAvatar();
            // Your other initialization code...
        });

        // Start real-time Spotify progress updates
        function startSpotifyProgressUpdates() {
            // Clear any existing interval
            if (spotifyUpdateInterval) {
                clearInterval(spotifyUpdateInterval);
            }

            // Update immediately
            updateSpotifyProgress();

            // Update every second for smooth progress
            spotifyUpdateInterval = setInterval(updateSpotifyProgress, 1000);
        }

        // Update Spotify progress bar and time
        function updateSpotifyProgress() {
            if (!presenceData || !presenceData.listening_to_spotify || !presenceData.spotify) {
                return;
            }

            const startTime = presenceData.spotify.timestamps.start;
            const endTime = presenceData.spotify.timestamps.end;

            // Check if timestamps are valid
            if (!startTime || !endTime || startTime >= endTime) {
                return;
            }

            const totalDuration = endTime - startTime;
            const elapsed = Date.now() - startTime;
            const progress = Math.min(100, Math.max(0, (elapsed / totalDuration) * 100));

            // Update progress bar
            document.getElementById('progress-bar').style.width = `${progress}%`;

            // Update duration (only needs to be set once)
            const durationMinutes = Math.floor(totalDuration / 60000);
            const durationSeconds = Math.floor((totalDuration % 60000) / 1000);
            document.getElementById('duration').textContent =
                `${durationMinutes}:${durationSeconds.toString().padStart(2, '0')}`;

            // Update current time
            const currentElapsed = Math.max(0, elapsed);
            const currentMinutes = Math.floor(currentElapsed / 60000);
            const currentSeconds = Math.floor((currentElapsed % 60000) / 1000);
            document.getElementById('current-time').textContent =
                `${currentMinutes}:${currentSeconds.toString().padStart(2, '0')}`;
        }

        function initCustomCursor() {
            // Don't initialize if touch device
            if (isTouchDevice()) return;

            const cursor = document.getElementById('cursor');

            // Rest of your cursor initialization code...
            document.addEventListener('mousemove', (e) => {
                cursor.style.left = e.clientX + 'px';
                cursor.style.top = e.clientY + 'px';
            });

            // Add hover effect to interactive elements
            const hoverElements = document.querySelectorAll('a, button, .avatar-container, .footer-icon');
            hoverElements.forEach(el => {
                el.addEventListener('mouseenter', () => {
                    cursor.classList.add('hover');
                });
                el.addEventListener('mouseleave', () => {
                    cursor.classList.remove('hover');
                });
            });
        }
        // Typing effect for description
        function typeDescriptionText() {
            const texts = [
                "444.exlu$v.",
                "PAG KA LAPAG ALAM MO NG BALAGBAG."
            ];
            const typingText = document.getElementById('typingText_description');
            let text = 0;
            let char = 0;
            let isDeleting = false;

            function type() {
                const currentText = texts[text];

                if (isDeleting) {
                    typingText.textContent = currentText.substring(0, char - 1);
                    char--;
                } else {
                    typingText.textContent = currentText.substring(0, char + 1);
                    char++;
                }

                if (!isDeleting && char === currentText.length) {
                    isDeleting = true;
                    setTimeout(type, 2000);
                } else if (isDeleting && char === 0) {
                    isDeleting = false;
                    text = (text + 1) % texts.length;
                    setTimeout(type, 500);
                } else {
                    const speed = isDeleting ? 50 : 150;
                    setTimeout(type, speed);
                }
            }

            setTimeout(type, 1000);
        }

        // Copy Discord username to clipboard
        function initCopyUsername() {
            const avatarButton = document.getElementById('avatarButton');
            const tooltip = document.getElementById('tooltip');

            avatarButton.addEventListener('click', () => {
                navigator.clipboard.writeText('.')
                    .then(() => {
                        tooltip.classList.add('show');
                        setTimeout(() => {
                            tooltip.classList.remove('show');
                        }, 2000);
                    })
                    .catch(err => {
                        console.error('Failed to copy text: ', err);
                    });
            });
        }

        // Enter profile after clicking
        function enterProfile() {
            document.getElementById('entryScreen').style.display = 'none';
            document.getElementById('mainContent').classList.add('visible');

            // Start playing background media
            bgVideo.style.display = 'block';
            bgVideo.play().catch(e => console.log('Video play failed:', e));
            bgMusic.play().catch(e => console.log('Audio play failed:', e));

            // Initialize features
            initCustomCursor();
            typeDescriptionText();
            initCopyUsername();
            setupViewCounter();
            initLanyard();
            initMusicControl();
        }

        // Initialize entry screen click handler
        document.getElementById('entryScreen').addEventListener('click', enterProfile);

        function typeEntryText() {
            const entryText = document.getElementById('entryText');
            const fullText = "Click anywhere to enter...";
            let char = 0;

            function type() {
                if (char < fullText.length) {
                    entryText.textContent = fullText.substring(0, char + 1);
                    char++;
                    setTimeout(type, 100);
                }
            }

            // Start typing after a short delay
            setTimeout(type, 1);
        }

        window.addEventListener('load', typeEntryText);

        document.getElementById('backButton').addEventListener('click', function () {
            // Navigate to the root of your domain
            window.location.href = 'https://www.444exlusv.world/';

            // Or alternatively, if you want to go back in history but fallback to root:
            // if (window.history.length > 1) {
            //   window.history.back();
            // } else {
            //   window.location.href = '/';
            // }
        });

        function updateAvatarDecoration() {
            fetch(`https://api.lanyard.rest/v1/users/${userId}`)
                .then(response => response.json())
                .then(data => {
                    if (data.success && data.data) {
                        const avatarDecoration = document.getElementById('avatarDecoration');
                        if (data.data.discord_user && data.data.discord_user.avatar_decoration_data) {
                            const decorationUrl = `https://cdn.discordapp.com/avatar-decoration-presets/${data.data.discord_user.avatar_decoration_data.asset}.png`;
                            avatarDecoration.style.backgroundImage = `url('${decorationUrl}')`;
                            avatarDecoration.style.display = 'block';
                            console.log('Avatar decoration updated:', decorationUrl);
                        } else {
                            avatarDecoration.style.display = 'none';
                            console.log('No avatar decoration found');
                        }
                    }
                })
                .catch(error => {
                    console.error('Error fetching avatar decoration:', error);
                });
        }

        // Disable right-click context menu
        document.addEventListener('contextmenu', function (e) {
            e.preventDefault();
        });

        // Disable common inspect shortcuts
        document.addEventListener('keydown', function (e) {
            // Prevent F12
            if (e.key === 'F12') {
                e.preventDefault();
            }
            // Prevent Ctrl+Shift+I (Inspect)
            if (e.ctrlKey && e.shiftKey && e.key === 'I') {
                e.preventDefault();
            }
            // Prevent Ctrl+Shift+J (Console)
            if (e.ctrlKey && e.shiftKey && e.key === 'J') {
                e.preventDefault();
            }
            // Prevent Ctrl+Shift+C (Inspect Element)
            if (e.ctrlKey && e.shiftKey && e.key === 'C') {
                e.preventDefault();
            }
            // Prevent Ctrl+U (View Source)
            if (e.ctrlKey && e.key === 'U') {
                e.preventDefault();
            }
        });

        // Load disable-devtool after other scripts to minimize interference
        // Use custom configuration to allow network requests
        const disableDevtoolScript = document.createElement('script');
        disableDevtoolScript.src = 'https://cdn.jsdelivr.net/npm/disable-devtool@latest';
        disableDevtoolScript.setAttribute('disable-devtool-auto', '');
        disableDevtoolScript.onload = () => {
            if (window.DisableDevtool) {
                window.DisableDevtool({
                    disableMenu: true, // Disable right-click menu
                    disableSelect: false, // Allow text selection
                    disableCopy: false, // Allow copying
                    disableCut: false, // Allow cutting
                    disablePaste: false, // Allow pasting
                    clearLog: false, // Keep console logs
                    detectors: ['f12', 'ctrlShiftI', 'ctrlShiftJ', 'ctrlShiftC', 'ctrlU'], // Specific shortcuts to block
                    ondevtoolopen: () => {
                        // Optional: Redirect or show message instead of closing tab
                        console.warn('Developer tools detected.');
                    }
                });
            }
        };
        document.body.appendChild(disableDevtoolScript);


        function goBack() {
            // Check if there's a previous page in history
            if (window.history.length > 1) {
                window.history.back();
            } else {
                // Fallback - you can customize this behavior
                window.location.href = '.html';
            }
        }

        // Add keyboard accessibility
        document.addEventListener('keydown', function (event) {
            if (event.key === 'Escape') {
                goBack();
            }
        });

        // Add this to your existing JavaScript
        function isTouchDevice() {
            return (('ontouchstart' in window) ||
                (navigator.maxTouchPoints > 0) ||
                (navigator.msMaxTouchPoints > 0));
        }

        function handleCursorForTouchDevices() {
            if (isTouchDevice()) {
                // Remove cursor element if it exists
                const cursor = document.getElementById('cursor');
                if (cursor) {
                    cursor.style.display = 'none';
                }

                // Reset cursor styles for all elements
                document.body.style.cursor = 'default';
                const allElements = document.querySelectorAll('*');
                allElements.forEach(el => {
                    el.style.cursor = 'default';
                });
            }
        }

        // Call this when the page loads
        document.addEventListener('DOMContentLoaded', handleCursorForTouchDevices);

        // Add this to your existing JavaScript
        function isMobileDevice() {
            return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
        }

        function handleMobileBackground() {
            if (isMobileDevice()) {
                const bgVideo = document.getElementById('bgVideo');
                if (bgVideo) {
                    // On mobile, we might want to handle the video differently
                    bgVideo.style.display = 'none'; // Hide video on mobile
                    bgVideo.pause(); // Ensure it's not playing

                    // Alternatively, you could replace with a static background
                    document.body.style.background = "linear-gradient(135deg, #000000 0%, #1a1a1a 50%, #000000 100%)";
                }
            }
        }

        // Call this when initializing your page
        document.addEventListener('DOMContentLoaded', function () {
            handleMobileBackground();
            // Your other initialization code...
        });

        function updateFavicons(avatarUrl) {
            const favicon = document.getElementById('favicon');
            const appleTouchIcon = document.getElementById('appleTouchIcon');

            // Update both icons
            favicon.href = avatarUrl;
            appleTouchIcon.href = avatarUrl;

            // Force browser to recognize the new favicon
            document.head.appendChild(favicon.cloneNode(true));
            document.head.appendChild(appleTouchIcon.cloneNode(true));
        }

        document.addEventListener('DOMContentLoaded', function () {
            const title = document.querySelector('title');
            const originalText = title.textContent;
            title.textContent = '';

            let i = 0;
            const typingEffect = setInterval(() => {
                if (i < originalText.length) {
                    title.textContent += originalText.charAt(i);
                    title.className = 'typing'; // Add typing class for cursor
                    i++;
                } else {
                    clearInterval(typingEffect);
                    title.className = ''; // Remove cursor when done
                }
            }, 150); // Adjust typing speed (milliseconds)
        });

    </script>
</body>

</html>
